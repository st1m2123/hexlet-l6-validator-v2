## Правила и регламент

- [Правила, рекомендации и порядок проведения](https://github.com/hexlet-college-students/exam-rules)

## Задание

Ваша задача написать валидатор, в котором есть ряд методов и свойств и экспортировать его из файла *index.js*. Валидатор позволяет проверять аргументы на соответствие необходимым условиям, которые были заданы с помощью методов валидатора. Запуск валидатора происходит в конце задачи, с помощью метода `isValid()`.

Пример использования:

```javascript
// создаем экземпляр валидатора
const v = new Validator();
// определяем метод для валидации чисел и связываем его с валидатором, обращаясь к нему через переменную.
const schema = v.number();

// проверяем данные на соответствие числовому типу, с помощью метода isValid()
schema.isValid('Hexlet'); // false
schema.isValid(''); // false
schema.isValid(null); // false
schema.isValid(123); // true
```

### Примечания

Вы можете самостоятельно протестировать работу валидатора. В каталоге **src** разрешено использовать любые файлы, только с расширением **js** и создавать новые, если это делает вашу разработку более удобной.

Для тестирования валидатора, достаточно создать экземпляр валидатора, настроить валидацию с помощью методов и вызвать метод `isValid()` с необходимым аргументом, после чего написать в терминале:

```bash
node src/index.js
```

## 1 задача

Вам необходимо создать валидатор, который способен принимать аргумент и проводить его проверку на соответствие определенным условиям. В данной задаче мы ограничиваемся валидацией строк. Для этого в вашем валидаторе должен быть метод `string()`, который создает экземпляр валидатора строк. Этот экземпляр обладает методом `isValid()`, который принимает данные на вход и возвращает значение `true` или `false` в зависимости от того, являются ли входные данные строкой.

Также вам необходимо добавить метод `containsNumber()`. Этот метод проверяет, что строка содержит число. При вызове метода `containsNumber()`, он добавляет дополнительную проверку, которая будет выполняться при вызове метода `isValid()`.

**Методы**

- метод валидатора `string()`, который создает экземпляр валидатора строк;
- метод экземпляра `isValid()`, который вызывается у экземпляра `string()`, он принимает данные на выход и валидирует;
- метод `containsNumber()`, который вызывается у экземпляра `string()`.

```javascript
const v = new Validator();
const schema = v.string();

schema.isValid(null); // false
schema.isValid(''); // true
schema.isValid(true); // false
schema.isValid(123); // false
schema.isValid('0'); // true
schema.isValid('Hexlet'); // true
schema.isValid('meIsString'); // true
schema.isValid('I_AM_STROKA'); // true

const schema1 = v.string();
schema1.isValid('Hexlet'); // true

const schema2 = v.string().containsNumber();
schema1.isValid('Hexlet'); // false;
schema1.isValid('Hexlet!1!!1!!!!'); // true;
```

## 2 задача

Вам необходимо создать валидатор массивов, добавив к нему метод `array()`. Аналогично методу `string()`, метод `array()` создает экземпляр валидатора массивов. Для валидации массивов у этого экземпляра также есть метод `isValid()`, который проверяет, является ли переданный аргумент массивом. К валидатору `array()` также должен применятся метод `containsNumber()`, который проверяет строки внутри массива (элементы массива) на наличие чисел.

**Методы**

- метод валидатора `array()`, который создает экземпляр валидатора массивов;
- метод `isValid()`, который вызывается у экземпляра `array()`. Он проверяет, является ли аргумент массивом;

```javascript
const v = new Validator();

const schema1 = v.array();
schema1.isValid([]); // true;
schema1.isValid(['1', '2']); // true;
schema1.isValid(12); // false;
schema1.isValid({}); // false;
```

## 3 задача

Вам необходимо расширить функциональность экземпляра валидатора массивов. Кроме того, что он может валидировать, является ли аргумент массивом, он должен также иметь возможность проверять, элементы массива на соответствие определенному условию, если был вызван метод `custom()`.

**Методы**

- метод `custom()`, который вызывается у экземпляра `array()`. Он дает возможность добавлять кастомные проверки для каждого элемента массива.

```javascript
const v = new Validator();
const schema1 = v.array().custom((element) => element.length > 3);

schema1.isValid(['Hi']); // false;
schema1.isValid(['Holla']); // true;
schema1.isValid(['Hi1']); // false;
```

## 4 задача

Вам необходимо создать валидатор полей объекта, используя методы, представленные в предыдущих задачах. Для этого необходимо создать метод `object()`, который проверяет не сам объект, а данные внутри него на соответствие заданным валидаторам.

Внутри объекта может быть еще один вложенный объект, таким образом должна быть реализована проверка на любой глубине вложенности. Метод `Validator.object()` должен содержать метод `shape()`, позволяющий задать поля, подлежащие валидации. Метод `shape()` принимает объект, где ключи представляют поля, которые требуется проверить, а значения - экземпляры валидаторов.

**Методы**

- метод валидатора `object()`;
- метод `isValid`, который проверяет данные внутри объекта. Проверка должна выполнятся на любом уровне глубины;
- метод `shape()`, который позволяет задать поля валидации для объекта.

```javascript
const v = new Validator();

const schema = v.object().shape({
  str: v.string(),
  obj: v.object().shape({
    array: v.array(),
    innerObj: v.object().shape({
      str: v.string(),
      deepestObj: v.object().shape({
        str: v.string(),
      }),
    }),
  }),
});

schema.isValid({ 
  str: 'Hey', 
  obj: { 
    array: ['1', '2'], 
    innerObj: { 
      str: 'Hey_Again', 
      deepestObj: { str: 'Hey_Hey' }
    }
  } 
}); // true
```
![изображение](https://github.com/user-attachments/assets/4772e485-a456-4460-a276-32b29f4aff64)
